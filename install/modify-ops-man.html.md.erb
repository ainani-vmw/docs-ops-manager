---
title: Modifying installation and product template files
owner: Ops Manager
---

This topic describes how you can modify your <%= vars.ops_manager_first %> installation by decrypting and
editing the YAML files that <%= vars.ops_manager %> uses to store
configuration data.

You can use these procedures to view and change values that they cannot access through the <%= vars.ops_manager %> web interface. They can also modify the product templates that <%= vars.ops_manager %> uses to create forms and obtain user input.

You might want to modify the <%= vars.ops_manager %> installation and product template files for a number of reasons, including the following:

* To change the User Account and Authentication (UAA) admin password of their deployment

* To retrieve key values

* To migrate content across different <%= vars.ops_manager %> releases

<p class="note">
<span class="note__title">Note</span>
Be careful when you make changes to
your <%= vars.ops_manager %> installation and product template files. Use spaces instead of
tabs, and remember that YAML files use whitespace as a delimiter. Finally,
<%= vars.company_name %> does not officially support these procedures, so use them at
your own risk.
</p>

## <a id='understand-files'></a> Understand installation and product template files

During the installation process, <%= vars.ops_manager %> combines information from the installation and product template files to generate the manifests that define your deployment.

* **Installation files:** <%= vars.ops_manager %> stores user-entered data and automatically generated values for <%= vars.ops_manager %> in installation YAML files on the <%= vars.ops_manager %> VM. <%= vars.ops_manager %> encrypts and stores these files in the directory `/var/tempest/workspaces/default`. You must decrypt the files to view their contents, edit them as necessary, then re-encrypt them.

* **Product templates:** <%= vars.ops_manager %> uses product templates to create forms and obtain user input. The `job_types` and `property_blueprint` key-value pairs in a product template determine how the `jobs` and `properties` sections display in the installation file. <%= vars.ops_manager %> stores product templates as YAML files in the directory `/var/tempest/workspaces/default/metadata` on the <%= vars.ops_manager %> VM. These files are not encrypted, so you can edit them without decrypting. User input does not alter these files.

<p> When you upgrade<%= vars.ops_manager %> your changes might be eliminated
in the installation and
product template files.</p>


## <a id='installation'></a> Modify the installation files

Complete the following steps to locate, decrypt, and edit the <%= vars.ops_manager %> installation files `installation.yml` and `actual-installation.yml`.

1. SSH into the <%= vars.ops_manager %> VM by following the steps in [Log Into the <%= vars.ops_manager %> VM with SSH](ssh-login.html#ssh-by-iaas).
1. On the command line, navigate to the scripts directory:
    <pre class="terminal">
    $ cd /home/tempest-web/tempest/web/scripts/
    </pre>
1. Run the following command to decrypt the installation YAML file and make a temporary copy of the decrypted file. When prompted for a passphrase, enter the decryption passphrase you created when you launched <%= vars.ops_manager %> for the first time:
    <pre class="terminal">
    $ sudo -u tempest-web SECRET_KEY_BASE="s" ./decrypt /var/tempest/workspaces/default/installation.yml /tmp/installation.yml
    </pre>
1. Open `/tmp/installation.yml` to view or edit values.
1. If you plan to make changes, make a backup of the original installation YAML file:
    <pre class="terminal">
    $ cp /var/tempest/workspaces/default/installation.yml ~/installation-orig.yml
    </pre>
1. If you have made changes to your copy of the installation YAML file, you must encrypt it and overwrite the original with it:
    <pre class="terminal">
    $ sudo -u tempest-web SECRET_KEY_BASE="s" RAILS_ENV=production /home/tempest-web/tempest/web/scripts/encrypt /tmp/installation.yml /var/tempest/workspaces/default/installation.yml
    </pre>
    When you are prompted, enter a passphrase.
1. Delete the temporary copy of the decrypted file:
    <pre class="terminal">
    $ rm /tmp/installation.yml
    </pre>
1. Repeat steps 2 through 7 for `/tmp/actual-installation.yml`. Each step you see `installation.yml`, replace with `actual-installation.yml`. For example, for step 3 you run:
    <pre class="terminal">
    $ sudo -u tempest-web SECRET_KEY_BASE="s" ./decrypt /var/tempest/workspaces/default/actual-installation.yml /tmp/actual-installation.yml
    </pre>
1. Restart the <%= vars.ops_manager %> web interface:
    <pre class="terminal">
    $ sudo service tempest-web stop && sudo service tempest-web start
    </pre>
1. Go to <%= vars.ops_manager %> in a browser and enter your decryption passphrase.
1. Log in to <%= vars.ops_manager %>.
1. Click **Review Pending Changes**, then **Apply Changes**.
1. If <%= vars.ops_manager %> cannot load your changes, see the [Revert To Your Backup](#revert) section of this topic to restore your previous settings.

## <a id='templates'></a> Modify product template files

Complete the following steps to locate and edit your <%= vars.ops_manager %> product template files:

1. SSH into the <%= vars.ops_manager %> VM by following the steps in the [Log Into the <%= vars.ops_manager %> VM with SSH](ssh-login.html#ssh-by-iaas).
1. On the <%= vars.ops_manager %> VM, navigate to the `/var/tempest/workspaces/default/metadata` directory.
    <pre class="terminal">
    $ cd /var/tempest/workspaces/default/metadata
    </pre>
1. The `/var/tempest/workspaces/default/metadata` directory contains the product templates as YAML files. If you plan to make changes, make a backup of the original product template YAML file:
    <pre class="terminal">
    $ cp /var/tempest/workspace/default/metadata/YOUR-PRODUCT-TEMPLATE.yml ~/YOUR-PRODUCT-TEMPLATE-orig.yml
    </pre>
1. Open and edit the product template YAML file as necessary. For more information about product templates, see [Product template references](https://docs.vmware.com/en/Tile-Developer-Guide/3.0/tile-dev-guide/property-template-references.html).
1. Go to <%= vars.ops_manager %> to see your changes.
1. If <%= vars.ops_manager %> cannot load your changes, see the [Revert to your backup](#revert) section of this to restore your previous settings.

## <a id='revert'></a> Revert to your backup

Complete the following steps to revert to your backup of an installation or product template file:

1. SSH into the <%= vars.ops_manager %> VM by following the steps in [Log Into the <%= vars.ops_manager %> VM with SSH](ssh-login.html#ssh-by-iaas).
1. Overwrite the modified file with the backup:
    * For the installation file, run the following command:
        <pre class="terminal">$ cp ~/installation-orig.yml /var/tempest/workspaces/default/installation.yml</pre>
    * For a product template file, run the following command:
        <pre class="terminal">$ cp ~/YOUR-PRODUCT-TEMPLATE-orig.yml /var/tempest/workspaces/default/metadata/YOUR-PRODUCT-TEMPLATE.yml</pre>
1. Restart the <%= vars.ops_manager %> web interface:
    <pre class="terminal">
    $ sudo service tempest-web stop && sudo service tempest-web start
    </pre>
1. Go to <%= vars.ops_manager %> in a browser and enter your decryption passphrase.
1. Log in to <%= vars.ops_manager %>.
1. Click **Review Pending Changes**, then **Apply Changes**.
