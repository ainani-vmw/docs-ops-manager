---
title: Requirements and prerequisites for Tanzu Operations Manager on Azure
owner: Ops Manager
---

Ensure that you meet the following requirements and prerequisites before installing <%= vars.ops_manager_first %> on Microsoft Azure.

You can install <%= vars.ops_manager %> on either Azure or Azure Government Cloud. For information about Azure regions, see the [Azure documentation](https://azure.microsoft.com/en-us/global-infrastructure/regions/). For more information about Azure Government Cloud, see [Configuring BOSH Director on Azure Government Cloud](/azure/gov-cloud.html).

You can install <%= vars.ops_manager %> on Azure with the <%= vars.app_runtime_first %> runtime. There are resource requirements specific to both <%= vars.app_runtime_abbr %> and Azure. Ensure that you meet the requirements for <%= vars.app_runtime_abbr %> and the requirements specific to Azure before installing <%= vars.ops_manager %> on Azure. For more information, see [Requirements](#requirements).

## <a id='requirements'></a> Requirements

This section lists the resource requirements for installing <%= vars.ops_manager %> on Azure.

For <%= vars.app_runtime_abbr %>-specific resource requirements,
see [<%= vars.app_runtime_abbr %> Resource Requirements](https://docs.vmware.com/en/VMware-Tanzu-Application-Service/<%= vars.dot_major_tas_version %>/tas-for-vms/requirements.html).

### <a id='azure-requirements'></a> Azure resource requirements

The following are the minimum resource requirements for deploying a <%= vars.ops_manager %> deployment with <%= vars.app_runtime_abbr %> on Azure:

* An OS disk of 120&nbsp;GB for the <%= vars.ops_manager %> VM. <br><%= vars.ops_manager %> <%= vars.v_major_version %> requires a BOSH Director VM with at least 8&nbsp;GB memory.

* A minimum of the following VM instance limits in your Azure account. The number of VMs required depends on the number of tiles and availability zones (AZs) you plan to deploy. The following VM guidelines apply to the <%= vars.app_runtime_abbr %> and Small Footprint <%= vars.app_runtime_abbr %> runtimes:

    * **<%= vars.app_runtime_abbr %>:** A new Azure deployment requires the following VMs for <%= vars.app_runtime_abbr %> and <%= vars.ops_manager %>:

      <table class=“table”>
      <thead>
        <tr>
          <th>VM type</th>
          <th>VM count</th>
        </tr>
      </thead>
        <tr>
          <td>F1s</td>
          <td style="text-align: center">22</td>
        </tr>
        <tr>
          <td>F2s</td>
          <td style="text-align: center">22</td>
        </tr>
        <tr>
          <td>DS1 v2</td>
          <td style="text-align: center">2</td>
        </tr>
        <tr>
          <td>DS11 v2</td>
          <td style="text-align: center">10</td>
        </tr>
        <tr>
          <td>DS12 v2</td>
          <td style="text-align: center">24</td>
        </tr>
      </table>

        If you are deploying a test or sandbox <%= vars.ops_manager %> that does not require high availability, then you can scale down the number of VM instances in your deployment.
        For more information, see <a href="https://docs.vmware.com/en/VMware-Tanzu-Application-Service/<%= vars.dot_major_tas_version %>/tas-for-vms/scaling-ert-components.html">Scaling <%= vars.app_runtime_abbr %></a>.

    * **Small Footprint <%= vars.app_runtime_abbr %>:** A new Azure deployment requires the following VMs for Small Footprint <%= vars.app_runtime_abbr %> and <%= vars.ops_manager %>:

        <table class=“table”>
            <thead>
              <tr>
                <th></th>
                <th>VM type</th>
                <th>VM count</th>
                <th>Notes</th>
              </tr>
            </thead>
              <tr>
                <th rowspan=4> Small Footprint <%= vars.app_runtime_abbr %></th>
                <td>DS11 v2</td>
                <td style="text-align: center">1</td>
                <td></td>
              </tr>
              <tr>
                <td>DS12 v2</td>
                <td style="text-align: center">2</td>
                <td></td>
              </tr>
              <tr>
                <td>F2s</td>
                <td style="text-align: center">0</td>
                <td>Add 1 to count if using HAProxy</td>
              </tr>
              <tr>
                <td>F1s</td>
                <td style="text-align: center">5</td>
                <td></td>
              </tr>
              <tr>
                <th rowspan=2><%= vars.ops_manager %></th>
                <td>DS2 v2</td>
                <td style="text-align: center">1</td>
                <td></td>
              </tr>
              <tr>
                <td>F4s</td>
                <td style="text-align: center">4</td>
                <td></td>
              </tr>
        </table>

Some VM instance types are only supported in certain Azure regions. For more information, see <a href="https://azure.microsoft.com/en-us/regions/services/">Products available by region</a> in the Microsoft Azure documentation. To deploy <%= vars.ops_manager %> on an Azure region that does not support the preceding VM instance types, you must override the default VM sizes.

For more information, see <a href="https://developer.broadcom.com/xapis/tanzu-operations-manager-api/3.0//api/v0/vm_types/put/">Overriding defaults with custom disk types</a> in the <%= vars.ops_manager %> API documentation. Changing the default VM sizes might increase the cost of your deployment.


## <a id='prerequisites'></a> Prerequisites

Before you install <%= vars.ops_manager %> on Azure, you must:

* Install the Azure CLI. To install the Azure CLI for your operating system, see [Preparing to Deploy <%= vars.ops_manager %> on Azure](../azure/prepare-env-manual.html).

* Configure sufficient IP allocation for <%= vars.app_runtime_abbr %>. For more information about IP allocation requirements, see [<%= vars.app_runtime_abbr %> Resource Requirements](#azure-resource-requirements).

* Create an SSL certificate for your <%= vars.ops_manager %> domain.
  To deploy <%= vars.ops_manager %> to a production environment, you must obtain a certificate
  from a certificate authority (CA). <%= vars.company_name %> recommends using a self-signed certificate generated by <%= vars.ops_manager %> for development and testing purposes only.

* Assign administrative rights to a domain for <%= vars.ops_manager %>. You must be able to add wildcard records to this domain.

* Create a wildcard DNS record that points to your Gorouter or load balancer. Alternatively, you can use a service such as xip.io. For example, `203.0.113.0.xip.io`. Then, create at least one wildcard TLS certificate that matches the DNS record you configured.
    With a wildcard DNS record, every hostname in your domain resolves to the IP address of your Gorouter or load balancer. For example, if you create a DNS record <code>*.example.com</code> pointing to your Gorouter, every app deployed to the <code>example.com</code> domain resolves to the IP address of your Gorouter.

* Create one or more NTP servers, if the NTP servers are not already provided by your Azure project.

* Install the most recent version of the Cloud Foundry Command Line Interface (cf CLI). For more information, see the [Cloud Foundry Command Line Interface](https://github.com/cloudfoundry/cli) in the GitHub repository.

* (Optional) Configure external storage. <%= vars.company_name %> recommends using external storage if possible. For more information about how file storage location affects platform performance and stability during upgrades,
see [Configure file storage](https://docs.vmware.com/en/VMware-Tanzu-Application-Service/<%= vars.dot_major_tas_version %>/tas-for-vms/configuring.html#file-storage) in _Configuring <%= vars.app_runtime_abbr %> for Upgrades_.

* (Optional) Configure external databases. <%= vars.company_name %> recommends using external databases for BOSH Director and <%= vars.app_runtime_abbr %> in production deployments. An external database must be configured to use the UTC timezone.

* (Optional) Configure external user stores. When you deploy <%= vars.ops_manager %>, you can select SAML, LDAP, or OIDC to integrate existing user accounts.


## <a id='install'></a> Install <%= vars.ops_manager %> on Azure

To install <%= vars.ops_manager %> on Azure, see [Installing <%= vars.ops_manager %> on Azure](pcf-azure-manual-config.html).

## <a id='install-gov'></a> Install <%= vars.ops_manager %> on Azure Government Cloud

To install <%= vars.ops_manager %> on Azure Government Cloud, see [Configuring BOSH Director on Azure Government Cloud](../azure/gov-cloud.html).

## <a id='resources'></a> Additional resources

The following are additional resources related to installing <%= vars.ops_manager %> on Microsoft Azure:

* [Troubleshooting <%= vars.ops_manager %> on Azure](azure-troubleshooting.html)

* [Reference architecture for <%= vars.ops_manager %> on Azure](../refarch/azure/azure_ref_arch.html)

* [Azure security documentation](https://docs.microsoft.com/en-us/azure/security/)

* [IaaS Permissions Guidelines](iaas-user-roles.html)

* [Deleting <%= vars.ops_manager %> from Azure](deleting-azure-install.html)

* [Upgrading BOSH Director on Azure](azure-om-upgrade.html)
